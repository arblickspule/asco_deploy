(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{f2d6:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"flex flex-center"},[o("q-toolbar",[o("q-toolbar-title",[o("strong",[t._v("Blog")])]),o("q-btn-dropdown",{attrs:{label:"Sort by date",icon:"sort"}},[o("q-toggle",{attrs:{label:"Descending"},on:{input:t.loadBlogPosts},model:{value:t.sortDateDescending,callback:function(e){t.sortDateDescending=e},expression:"sortDateDescending"}})],1),o("q-btn-dropdown",{attrs:{label:"Filter Tags",icon:"filter"}},t._l(t.tags,(function(e){return o("q-toggle",{key:e.name,attrs:{label:e.name},on:{input:t.loadBlogPosts},model:{value:e.filtered,callback:function(o){t.$set(e,"filtered",o)},expression:"tag.filtered"}})})),1)],1),o("q-virtual-scroll",{staticStyle:{"max-height":"100%",width:"100%"},attrs:{items:t.posts,separator:""},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.item,n=t.index;return[o("q-item",{key:n,staticStyle:{width:"100%"}},[o("blog-post",{attrs:{post:e}})],1)]}}])})],1)},a=[],s=(o("7f7f"),o("20d6"),o("551c"),o("06db"),o("097d"),o("c197")),r=o.n(s),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticStyle:{width:"100%"}},[o("q-card-section",[o("h3",[t._v(t._s(t.post.title))])]),o("q-card-section",[o("div",{domProps:{innerHTML:t._s(t.computeMarkup)}})]),o("q-card-section",[o("p",[t._v("Posted by Arblick Spule on "+t._s(t.post.created_on))])])],1)},l=[],c={props:{preview:{type:Boolean,default:!0},post:{type:Object,default:function(){return{title:"...",body:"...",author:"...",created_on:"..."}}}},computed:{computeMarkup:function(){return this.post.body}}},u=c,d=o("2877"),p=o("f09f"),f=o("a370"),g=o("eebe"),h=o.n(g),b=Object(d["a"])(u,i,l,!1,null,"971d47c6",null),m=b.exports;h()(b,"components",{QCard:p["a"],QCardSection:f["a"]});var v={name:"PageBlog",components:{blogPost:m},data:function(){return{posts:[],foo:"bar",prism:r.a,sortDateDescending:!0,tags:[],filters:[{name:"status",value:"Published"}]}},computed:{},mounted:function(){this.loadBlogPosts()},methods:{loadBlogPosts:function(){var t=this;this.$axios.get(this.pathToApi()).then((function(e){t.posts=e.data.data,t.tags.forEach((function(t){t.count=0})),t.posts.forEach((function(e){e.tags.forEach((function(e){console.log(e);var o=t.tags.findIndex((function(t){return t.name===e}));o>=0?t.tags[o].count++:t.tags.push({name:e,count:1,filtered:!1})}))}))})).catch((function(){t.$q.notify({color:"negative",position:"top",message:"Nowt from the server!",icon:"report_problem"})})).finally((function(){setTimeout((function(){t.prism.highlightAll()}),1e3)}))},pathToApi:function(){for(var t="",e=0;e<this.filters.length;e++)t=t+"filter["+this.filters[e].name+"][eq]="+this.filters[e].value+"&";for(var o=0;o<this.tags.length;o++)this.tags[o].filtered&&(t=t+"filter[tags][contains]="+this.tags[o].name+"&");var n=this.sortDateDescending?"-":"";return"https://api.arblickspule.co.uk/public/thebase/items/blog?"+t+"sort="+n+"created_on"}}},_=v,q=o("9989"),w=o("65c6"),y=o("6ac5"),k=o("f20b"),D=o("9564"),x=o("a12b"),P=o("66e5"),Q=Object(d["a"])(_,n,a,!1,null,null,null);e["default"]=Q.exports;h()(Q,"components",{QPage:q["a"],QToolbar:w["a"],QToolbarTitle:y["a"],QBtnDropdown:k["a"],QToggle:D["a"],QVirtualScroll:x["a"],QItem:P["a"]})}}]);